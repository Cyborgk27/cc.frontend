<div class="p-8 bg-transparent min-h-screen animate-in fade-in duration-500">
    
    <div class="flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10">
        <div>
            <h1 class="text-3xl font-bold text-white tracking-tight">Gestión de Proyectos</h1>
            <p class="text-slate-400">Administra las instancias de clientes y sus credenciales de acceso.</p>
        </div>

        @if (auth.hasPermission(PERMS.PROJECTS.CREATE)) {
            <button (click)="goToProjectForm()" 
                    class="group flex items-center gap-3 bg-indigo-600 hover:bg-indigo-500 text-white px-8 py-4 rounded-2xl font-bold transition-all shadow-xl shadow-indigo-600/20 active:scale-95">
                <span class="material-icons group-hover:rotate-90 transition-transform">add</span>
                Registrar Nuevo Proyecto
            </button>
        }
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
        <div class="bg-slate-800/30 border border-slate-700/50 p-6 rounded-3xl backdrop-blur-sm group hover:border-indigo-500/50 transition-colors">
            <p class="text-slate-500 text-xs font-bold uppercase tracking-widest mb-1">Total Proyectos</p>
            <p class="text-3xl font-bold text-white">{{ projectFacade.totalRecords() }}</p>
        </div>
        <div class="bg-slate-800/30 border border-slate-700/50 p-6 rounded-3xl backdrop-blur-sm group hover:border-emerald-500/50 transition-colors">
            <p class="text-slate-500 text-xs font-bold uppercase tracking-widest mb-1">Proyectos Activos</p>
            <p class="text-3xl font-bold text-emerald-400">
                {{ projectFacade.projects().length }}
            </p>
        </div>
        <div class="bg-slate-800/30 border border-slate-700/50 p-6 rounded-3xl backdrop-blur-sm group hover:border-rose-500/50 transition-colors">
            <p class="text-slate-500 text-xs font-bold uppercase tracking-widest mb-1">Módulo Seguridad</p>
            <p class="text-xs font-medium text-slate-400 mt-2 flex items-center gap-1">
                <span class="material-icons text-[14px]">verified_user</span>
                Estado: Protegido
            </p>
        </div>
    </div>

    <div class="bg-slate-800/20 rounded-3xl border border-slate-700/30 overflow-hidden backdrop-blur-md shadow-2xl">
        <app-generic-table 
            [data]="projectFacade.projects()" 
            [columns]="columns" 
            [actions]="projectActions"
            [pagination]="true"
            [loading]="projectFacade.isLoading()"
            [currentPage]="currentPage"
            [totalItems]="projectFacade.totalRecords()"
            (pageChange)="onPageChange($event)">
        </app-generic-table>
    </div>
</div>