<div class="overflow-hidden bg-slate-800/40 border border-slate-700/50 rounded-3xl shadow-2xl backdrop-blur-md">
    <div class="overflow-x-auto">
        <table class="w-full text-left border-collapse">
            <thead>
                <tr class="bg-slate-800/60 border-b border-slate-700">
                    @for (col of columns; track col.key) {
                    <th class="px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-widest">
                        {{ col.label }}
                    </th>
                    }
                    <th class="px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-widest text-right">
                        Acciones
                    </th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-700/50">
                @for (row of data; track row.id) {
                <tr class="hover:bg-slate-700/30 transition-colors group">
                    @for (col of columns; track col.key) {
                    <td class="px-6 py-4 text-slate-300">
                        {{ row[col.key] }}
                    </td>
                    }
                    <td class="px-6 py-4 text-right">
                        <div class="flex justify-end gap-1">
                            @for (action of actions; track action.tooltip) {
                                @if (!action.permission || auth.hasPermission(action.permission)) {
                                <button (click)="action.callback(row)" [matTooltip]="action.tooltip"
                                    class="p-2 rounded-lg transition-all hover:bg-slate-700/50 {{ action.colorClass }}">
                                    <span class="material-icons text-xl">{{ action.icon }}</span>
                                </button>
                                }
                            }
                        </div>
                    </td>
                </tr>
                } @empty {
                <tr>
                    <td [attr.colspan]="columns.length + 1" class="px-6 py-20 text-center text-slate-500 italic">
                        No hay registros disponibles.
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</div>